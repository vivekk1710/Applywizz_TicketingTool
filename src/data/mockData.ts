import { User, Client, Ticket, SLAConfig, RolePermissions, TicketType, UserRole } from '../types';

export const slaConfig: SLAConfig = {
  credential_issue: { priority: 'critical', hours: 8 },
  profile_data_issue: { priority: 'critical', hours: 12 },
  bulk_complaints: { priority: 'critical', hours: 24 },
  volume_shortfall: { priority: 'high', hours: 24 },
  high_rejections: { priority: 'high', hours: 24 },
  resume_update: { priority: 'high', hours: 24 },
  job_feed_empty: { priority: 'high', hours: 24 },
  system_technical_failure: { priority: 'high', hours: 24 },
  early_application_request: { priority: 'medium', hours: 24 },
  no_interviews: { priority: 'medium', hours: 36 },
  am_not_responding: { priority: 'high', hours: 12 },
};

export const rolePermissions: Record<UserRole, RolePermissions> = {
  client: {
    canCreateTickets: [],
    canViewTickets: false,
    canEditTickets: false,
    canResolveTickets: false,
    canEscalateTickets: false,
    canViewClients: false,
    canManageUsers: false,
    canViewReports: false,
    canOnboardClients: false,
  },
  sales: {
    canCreateTickets: ['am_not_responding'],
    canViewTickets: false,
    canEditTickets: false,
    canResolveTickets: false,
    canEscalateTickets: false,
    canViewClients: true,
    canManageUsers: false,
    canViewReports: false,
    canOnboardClients: true,
  },
  account_manager: {
    canCreateTickets: [
      'volume_shortfall',
      'high_rejections',
      'no_interviews',
      'profile_data_issue',
      'credential_issue',
      'bulk_complaints',
      'early_application_request',
      'resume_update',
      'job_feed_empty',
      'system_technical_failure'
    ],
    canViewTickets: true,
    canEditTickets: true,
    canResolveTickets: true,
    canEscalateTickets: true,
    canViewClients: true,
    canManageUsers: false,
    canViewReports: true,
    canOnboardClients: false,
  },
  career_associate: {
    canCreateTickets: ['credential_issue', 'job_feed_empty'],
    canViewTickets: true,
    canEditTickets: false,
    canResolveTickets: false,
    canEscalateTickets: false,
    canViewClients: true,
    canManageUsers: false,
    canViewReports: false,
    canOnboardClients: false,
  },
  ca_manager: {
    canCreateTickets: [],
    canViewTickets: true,
    canEditTickets: true,
    canResolveTickets: true,
    canEscalateTickets: true,
    canViewClients: true,
    canManageUsers: true,
    canViewReports: true,
    canOnboardClients: false,
  },
  resume_team: {
    canCreateTickets: [],
    canViewTickets: true,
    canEditTickets: true,
    canResolveTickets: true,
    canEscalateTickets: false,
    canViewClients: true,
    canManageUsers: false,
    canViewReports: false,
    canOnboardClients: false,
  },
  scraping_team: {
    canCreateTickets: [],
    canViewTickets: true,
    canEditTickets: true,
    canResolveTickets: true,
    canEscalateTickets: false,
    canViewClients: false,
    canManageUsers: false,
    canViewReports: false,
    canOnboardClients: false,
  },
  credential_resolution: {
    canCreateTickets: ['credential_issue'],
    canViewTickets: true,
    canEditTickets: true,
    canResolveTickets: true,
    canEscalateTickets: false,
    canViewClients: true,
    canManageUsers: false,
    canViewReports: false,
    canOnboardClients: false,
  },
  cro: {
    canCreateTickets: [
      'volume_shortfall',
      'high_rejections',
      'no_interviews',
      'profile_data_issue',
      'credential_issue',
      'bulk_complaints',
      'early_application_request',
      'resume_update',
      'job_feed_empty',
      'system_technical_failure'
    ],
    canViewTickets: true,
    canEditTickets: true,
    canResolveTickets: true,
    canEscalateTickets: true,
    canViewClients: true,
    canManageUsers: true,
    canViewReports: true,
    canOnboardClients: false,
  },
  cro_manager: {
    canCreateTickets: [],
    canViewTickets: true,
    canEditTickets: true,
    canResolveTickets: true,
    canEscalateTickets: true,
    canViewClients: true,
    canManageUsers: true,
    canViewReports: true,
    canOnboardClients: false,
  },
  coo: {
    canCreateTickets: [],
    canViewTickets: true,
    canEditTickets: false,
    canResolveTickets: false,
    canEscalateTickets: true,
    canViewClients: true,
    canManageUsers: true,
    canViewReports: true,
    canOnboardClients: false,
  },
  ceo: {
    canCreateTickets: [],
    canViewTickets: true,
    canEditTickets: false,
    canResolveTickets: false,
    canEscalateTickets: false,
    canViewClients: true,
    canManageUsers: true,
    canViewReports: true,
    canOnboardClients: false,
  },
  system_admin: {
    canCreateTickets: [],
    canViewTickets: true,
    canEditTickets: true,
    canResolveTickets: true,
    canEscalateTickets: true,
    canViewClients: true,
    canManageUsers: true,
    canViewReports: true,
    canOnboardClients: false,
  },
};

export const mockUsers: User[] = [
  { id: '1', name: 'Rohit', email: 'rohit@applywizz.com', role: 'sales', department: 'Sales', isActive: true },
  { id: '2', name: 'Naveen', email: 'naveen@applywizz.com', role: 'account_manager', department: 'Client Services', isActive: true },
  { id: '3', name: 'Ajay', email: 'ajay@applywizz.com', role: 'career_associate', department: 'Applications', isActive: true },
  { id: '4', name: 'Nimisha', email: 'nimisha@applywizz.com', role: 'ca_manager', department: 'Applications', isActive: true },
  { id: '5', name: 'Resume Team Lead', email: 'resume@applywizz.com', role: 'resume_team', department: 'Resume', isActive: true },
  { id: '6', name: 'Abhilash', email: 'abhilash@applywizz.com', role: 'scraping_team', department: 'Technology', isActive: true },
  { id: '7', name: 'Jagan Goud', email: 'jagan@applywizz.com', role: 'cro', department: 'Operations', isActive: true },
  { id: '8', name: 'Krishna', email: 'krishna@applywizz.com', role: 'coo', department: 'Executive', isActive: true },
  { id: '9', name: 'CEO Smith', email: 'ceo@applywizz.com', role: 'ceo', department: 'Executive', isActive: true },
  { id: '10', name: 'Admin User', email: 'admin@applywizz.com', role: 'system_admin', department: 'IT', isActive: true },
];

export const mockClients: Client[] = [
  {
    id: 'c1',
    fullName: 'John Doe',
    personalEmail: 'john.doe@gmail.com',
    whatsappNumber: '+1-555-0123',
    callablePhone: '+1-555-0124',
    companyEmail: 'john.doe@techcorp.com',
    jobRolePreferences: ['Software Engineer', 'Full Stack Developer'],
    salaryRange: '$80,000 - $120,000',
    locationPreferences: ['New York', 'San Francisco'],
    workAuthDetails: 'H1B Visa',
    accountManagerId: '2',
    onboardedBy: '1',
    createdAt: new Date('2024-01-15'),
  },
  {
    id: 'c2',
    fullName: 'Jane Smith',
    personalEmail: 'jane.smith@yahoo.com',
    whatsappNumber: '+1-555-0125',
    callablePhone: '+1-555-0126',
    companyEmail: 'jane.smith@datatech.com',
    jobRolePreferences: ['Data Scientist', 'ML Engineer'],
    salaryRange: '$90,000 - $140,000',
    locationPreferences: ['Seattle', 'Austin'],
    workAuthDetails: 'Green Card',
    accountManagerId: '2',
    onboardedBy: '1',
    createdAt: new Date('2024-01-20'),
  },
  {
    id: 'c3',
    fullName: 'Raj Patel',
    personalEmail: 'raj.patel@gmail.com',
    whatsappNumber: '+1-555-0127',
    callablePhone: '+1-555-0128',
    companyEmail: 'raj.patel@fintech.com',
    jobRolePreferences: ['Backend Developer', 'DevOps Engineer'],
    salaryRange: '$75,000 - $110,000',
    locationPreferences: ['Chicago', 'Boston'],
    workAuthDetails: 'F1 OPT',
    accountManagerId: '2',
    onboardedBy: '1',
    createdAt: new Date('2024-02-01'),
  },
];

export const mockTickets: Ticket[] = [
  {
    id: 't1',
    type: 'credential_issue',
    title: 'Cannot access client email - Password reset needed',
    description: 'Client John Doe changed his password and CA cannot access email account for job applications.',
    clientId: 'c1',
    createdBy: '3',
    assignedTo: ['2'],
    priority: 'critical',
    status: 'open',
    slaHours: 8,
    createdAt: new Date('2024-12-20T10:00:00'),
    updatedAt: new Date('2024-12-20T10:00:00'),
    dueDate: new Date('2024-12-20T18:00:00'),
    escalationLevel: 0,
    metadata: {
      issueType: 'password_changed',
      lastAccessAttempt: '2024-12-20T09:45:00',
    },
    comments: [],
  },
  {
    id: 't2',
    type: 'volume_shortfall',
    title: 'Volume Shortfall - Only 15 applications submitted',
    description: 'Client Jane Smith reported only 15 applications submitted yesterday, expected 25.',
    clientId: 'c2',
    createdBy: '2',
    assignedTo: ['4'],
    priority: 'high',
    status: 'in_progress',
    slaHours: 24,
    createdAt: new Date('2024-12-20T08:30:00'),
    updatedAt: new Date('2024-12-20T11:15:00'),
    dueDate: new Date('2024-12-21T08:30:00'),
    escalationLevel: 0,
    metadata: {
      expectedApplications: 25,
      actualApplications: 15,
      shortfall: 10,
    },
    comments: [],
  },
  {
    id: 't3',
    type: 'job_feed_empty',
    title: 'No jobs available for Software Engineer in NYC',
    description: 'CA reports no new jobs available for client preferences in the last 24 hours.',
    clientId: 'c1',
    createdBy: '3',
    assignedTo: ['6'],
    priority: 'high',
    status: 'open',
    slaHours: 24,
    createdAt: new Date('2024-12-20T09:00:00'),
    updatedAt: new Date('2024-12-20T09:00:00'),
    dueDate: new Date('2024-12-21T09:00:00'),
    escalationLevel: 0,
    metadata: {
      jobCategories: ['Software Engineer', 'Full Stack Developer'],
      locations: ['New York'],
      lastJobFound: '2024-12-19T15:30:00',
    },
    comments: [],
  },
  {
    id: 't4',
    type: 'resume_update',
    title: 'Client requests resume update with new certification',
    description: 'Raj Patel completed AWS certification and wants resume updated.',
    clientId: 'c3',
    createdBy: '2',
    assignedTo: ['5'],
    priority: 'high',
    status: 'open',
    slaHours: 24,
    createdAt: new Date('2024-12-20T07:45:00'),
    updatedAt: new Date('2024-12-20T07:45:00'),
    dueDate: new Date('2024-12-21T07:45:00'),
    escalationLevel: 0,
    metadata: {
      updateType: 'certification',
      newCertification: 'AWS Solutions Architect',
      resumeVersion: '2.1',
    },
    comments: [],
  },
  {
    id: 't5',
    type: 'system_technical_failure',
    title: 'Application submission portal down',
    description: 'Job application portal experiencing 500 errors, blocking all submissions.',
    clientId: 'c1',
    createdBy: '2',
    assignedTo: ['10'],
    priority: 'high',
    status: 'escalated',
    slaHours: 24,
    createdAt: new Date('2024-12-19T22:30:00'),
    updatedAt: new Date('2024-12-20T12:00:00'),
    dueDate: new Date('2024-12-20T22:30:00'),
    escalationLevel: 1,
    metadata: {
      errorCode: 500,
      affectedPortals: ['indeed', 'linkedin'],
      downtime: '2 hours',
    },
    comments: [],
  },
  {
    id: 't6',
    type: 'profile_data_issue',
    title: 'Wrong salary range in client profile',
    description: 'Client reports applications being sent for salary range $60K-80K instead of requested $90K-140K.',
    clientId: 'c2',
    createdBy: '1',
    assignedTo: ['4'],
    priority: 'critical',
    status: 'open',
    slaHours: 12,
    createdAt: new Date('2024-12-20T11:30:00'),
    updatedAt: new Date('2024-12-20T11:30:00'),
    dueDate: new Date('2024-12-20T23:30:00'),
    escalationLevel: 0,
    metadata: {
      incorrectSalaryRange: '$60,000 - $80,000',
      correctSalaryRange: '$90,000 - $140,000',
      profileField: 'salary_range',
    },
    comments: [],
  },
  {
    id: 't7',
    type: 'high_rejections',
    title: 'Client receiving high rejection rate',
    description: 'John Doe reports 90% rejection rate over last week, requesting investigation.',
    clientId: 'c1',
    createdBy: '2',
    assignedTo: ['4', '5'],
    priority: 'high',
    status: 'in_progress',
    slaHours: 24,
    createdAt: new Date('2024-12-19T16:00:00'),
    updatedAt: new Date('2024-12-20T10:30:00'),
    dueDate: new Date('2024-12-20T16:00:00'),
    escalationLevel: 0,
    metadata: {
      rejectionRate: '90%',
      applicationsLast7Days: 20,
      rejectionsLast7Days: 18,
    },
    comments: [],
  },
  {
    id: 't8',
    type: 'no_interviews',
    title: 'Zero interview calls in 3 weeks',
    description: 'Raj Patel has not received any interview calls despite 60+ applications in last 3 weeks.',
    clientId: 'c3',
    createdBy: '2',
    assignedTo: ['5', '4'],
    priority: 'medium',
    status: 'open',
    slaHours: 36,
    createdAt: new Date('2024-12-20T14:00:00'),
    updatedAt: new Date('2024-12-20T14:00:00'),
    dueDate: new Date('2024-12-22T02:00:00'),
    escalationLevel: 0,
    metadata: {
      applicationsSubmitted: 62,
      timeFrame: '21 days',
      interviewCalls: 0,
    },
    comments: [],
  },
  {
    id: 't9',
    type: 'am_not_responding',
    title: 'Account Manager not responding to new client',
    description: 'Newly onboarded client John Doe has not been contacted by AM Naveen for 2 days after onboarding.',
    clientId: 'c1',
    createdBy: '1',
    assignedTo: ['7'],
    priority: 'high',
    status: 'open',
    slaHours: 12,
    createdAt: new Date('2024-12-20T16:00:00'),
    updatedAt: new Date('2024-12-20T16:00:00'),
    dueDate: new Date('2024-12-21T04:00:00'),
    escalationLevel: 0,
    metadata: {
      onboardingDate: '2024-12-18',
      assignedAM: 'Naveen',
      daysSinceOnboarding: 2,
    },
    comments: [],
  },
];

export const ticketTypeLabels: Record<TicketType, string> = {
  volume_shortfall: 'Volume Shortfall',
  high_rejections: 'High Rejections',
  no_interviews: 'No Interviews',
  profile_data_issue: 'Profile Data Issue',
  credential_issue: 'Credential Issue',
  bulk_complaints: 'Bulk Complaints',
  early_application_request: 'Early Application Request',
  resume_update: 'Resume Update',
  job_feed_empty: 'Job Feed Empty',
  system_technical_failure: 'System Technical Failure',
  am_not_responding: 'AM Not Responding',
};

export const roleLabels: Record<UserRole, string> = {
  client: 'Client',
  sales: 'Sales',
  account_manager: 'Account Manager',
  career_associate: 'Career Associate',
  ca_manager: 'CA Manager',
  resume_team: 'Resume Team',
  scraping_team: 'Scraping Team',
  credential_resolution: 'Credential Resolution',
  cro: 'CRO',
  cro_manager: 'CRO Manager',
  coo: 'COO',
  ceo: 'CEO',
  system_admin: 'System Admin',
};